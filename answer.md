# Ответы на теоретические вопросы

**1. В чём основное отличие PostgreSQL от Redis?**  
PostgreSQL — это реляционная ACID‑совместимая СУБД, предназначенная для долговременного хранения структурированных данных и выполнения сложных SQL-запросов. Redis — in‑memory key‑value хранилище, ориентированное на очень высокую скорость, но с ограниченной функциональностью по сравнению с СУБД.

**2. Почему Redis не рекомендуется использовать как единственное хранилище данных?**  
Redis хранит данные в оперативной памяти, что ограничивает объём хранимой информации. У него менее зрелая система транзакций и восстановления после сбоев, чем у реляционных СУБД, а также отсутствует поддержка сложных SQL-запросов.

**3. В каких случаях Redis предпочтительнее PostgreSQL?**  
- Быстрый кэш (результаты запросов)  
- Обработка сессий и токенов  
- Pub/Sub (уведомления в реальном времени)  
- Очереди задач (jobs)  
- Счетчики, ограничения (rate limiting)  
В этих случаях важна низкая латентность и высокая пропускная способность.

**4. Что такое TTL в Redis и для чего он нужен?**  
TTL (time-to-live) — время жизни ключа. По его истечении ключ автоматически удаляется. Используется для кеширования, сессий, одноразовых токенов и других временных данных.

**5. Какие форматы хранения данных поддерживает Redis?**  
- Строки  
- Хэши  
- Списки  
- Множества  
- Упорядоченные множества (sorted sets)  
- Битмапы  
- HyperLogLog  
- Гео‑структуры  
- В Redis Stack также поддерживаются JSON, индексированные структуры и time-series.

**6. Какое хранилище показало более высокую скорость при выдаче всех пользователей?**  
Redis показал более высокую скорость благодаря хранению данных в памяти и упрощённой модели доступа.

**7. Какие сложности возникли при переносе проекта с MySQL на PostgreSQL?**  
- Настройка асинхронного соединения через `asyncpg` + SQLAlchemy  
- Миграции схемы БД (создание таблиц, автоинкремент, индексы)  
- Адаптация SQL-запросов к диалекту PostgreSQL  
- Удаление и создание схемы с `Base.metadata`

---
